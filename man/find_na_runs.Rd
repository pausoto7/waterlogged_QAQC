% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{find_na_runs}
\alias{find_na_runs}
\title{Find contiguous runs of missing values in a time series}
\usage{
find_na_runs(df, value_col = "airpress_kPa", add_step = TRUE)
}
\arguments{
\item{df}{A data frame containing at least a \code{timestamp} column and the
value column to be checked for gaps.}

\item{value_col}{Name of the column (as a single character string) in
\code{df} to inspect for \code{NA} runs. Defaults to
\code{"airpress_kPa"}.}

\item{add_step}{Logical; if \code{TRUE}, the estimated native time step
(median difference of \code{timestamp}) is added to the gap duration so
that the reported duration corresponds to the full span covered by the
missing values.}
}
\value{
A tibble with one row per gap, containing:
\itemize{
\item \code{gap_id}: integer identifier for the gap.
\item \code{gap_start}: timestamp of the first missing value.
\item \code{gap_end}: timestamp of the last missing value.
\item \code{n_missing}: number of consecutive missing values.
\item \code{duration}: time difference between \code{gap_start} and
\code{gap_end}, optionally plus one time step.
}
If no missing values are found, an empty tibble with the same columns is
returned.
}
\description{
Identifies contiguous runs of \code{NA} values in a time series column and
returns their start/end timestamps, length (in points), and duration.
}
\details{
The input data frame must contain a \code{timestamp} column that can be
ordered, and a numeric column specified by \code{value_col}.
}
\keyword{internal}
